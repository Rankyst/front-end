# 使用定时器制作动画的缺点

js是单线程的，所有的任务都会加入到一个队列中，如果有非常耗时的任务或者死循环或者庞大的队列就会导致间隔时间不准确，从而导致动画出现卡顿或者跳帧；另外就是当前窗口处于非活动窗口（另外的一个tab或者最小化）的时候定时器仍然会执行，白白消耗了资源，尤其在移动设备上这是不可想象的！

# 使用`window.requestAnimationFrame`改善动画

该接口在html5中定义，让浏览器在下一次动画帧的时候安排一次网页的重绘，该api只会绘制用户可见的动画（当前窗口处于非活动窗口的时候停止绘制）